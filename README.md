
# Реализаци простого EDI

***Name: EDInetWorth***<br>
***Date: 02.05.2020***<br>
***Language: Python 3.6.5***<br>
***Version: 1.0***<br>
***Copyright by Orlov Alexandr***<br>
***Проект реализован по документации https://www.esphere.ru/assets/download/WebService_Comarch%20EDI.pdf***<br>



Подключение к веб-сервисам по протоколу SOAP на языке программирования python.
-----------------------------------------------------------------------------------------------

Библиотеки на которых был реализован проект:
<hr>

1. **zeep** <br>
В нашей проекте служит для реализации подключение по правилам протокола SOAP.<br>
Самая простая, адекватная и подходящая библиотека в свободном доступе. Так же библиотека поддерживает аутентификацию на веб-сервисе, что являеться на мало важным. Многие сервисы требуют аутентификацию пользователя для подключения к ним.<br>
Установка черезе `pip`:<br>
`pip install zeep`<br>

2. **requests** <br>
В нашем проекте служит для отправки запросов на веб-сервис<br>
Довольно удобная библиотека для отправки запросов на веб-сервис. Думаю, все ее знаю. Без комментариев.<br>
Установка через `pip`:<br>
`pip install requests`<br>

Как это работает
-------------------------------------------------------------------------------------------------
Веб-сервис имеет следующие методы: 
* Relationships
* Send
* ListPB
* Receive
* ListMB
* ListMBex
* ChangeDocumentStatus
* ListPBEx
Вы их можете вызвать дописав в коде программы на 116 строке код по шаблону `SOAPClient.method(arguments)`.

Реализация
----------------------------------------------------
Все методы связанны между собой. Для выполнения второго метода, нужно получить данные из первого. Поэтому я создал массив `big_data`. Это сделанно для того, чтобы создать некий канал связи между всеми обьектами в классе SOAP. Переменную обновляет обьект refresh_big_data(), после вызова любого метода веб-сервиса.<br>
Так же я создал метод `trackback_errors` для отслеживание и вывода ошибок. Этот метод будет вызываться каждый раз, когда я буду обновлять данные в `refresh_big_data`.
Я столкнулся с такой проблемой, что я не могу реализовать следующие методы по документации, после `Relationships`, потому что у меня нет id пользователя и пароля. То есть я не знаю как будут приходить данные с веб-сервиса и следовательно, я не знаю как я буду их обрабатывать. Пока что, если вводить правильные данные, то все методы должны работать, но по документации например:<br>
При вызове метода Send аргументы `PartnerIln`, `DocumentType`, `DocumentVersion`,
`DocumentStandard`, `DocumentTest` используют значения, возвращаемые методом Relationship для
данного пользователя, соответственно: `partner-iln`, `document-type`, `document-version`, `documentstandard`, `document-test`.

Сегодня изучил
-------------------------------------------------------------
1) Добавил секьюрентные данные в переменную окружения PyCharm
2) Весь день пытался понять, как выводить свои исключения. Хотел сделать свой класс исключения и в нем уже обрабатывать все исключения, которые бы приходили при вызове метода. В итоге сделал, так как думал еще с самого начала.
3) Подучил Python
